# =============================================================================
# Medical Equipment Platform - Local Environment Configuration Example
# =============================================================================
# INSTRUCTIONS:
# 1. Copy this file to .env.local (which is git-ignored)
# 2. Customize the values below for your local development environment
# 3. Only override values that differ from .env.defaults
# =============================================================================

# -----------------------------------------------------------------------------
# GENERAL SETTINGS
# -----------------------------------------------------------------------------
# Enable debug mode for additional logging (default: true)
# DEBUG=true

# Set your local timezone if different from UTC
# TZ=Asia/Kolkata

# -----------------------------------------------------------------------------
# LOCAL PORTS & ENDPOINTS
# -----------------------------------------------------------------------------
# Override these if you have port conflicts with other applications

# API Gateway port (default: 8081)
# API_GATEWAY_PORT=8082

# Service-specific ports - uncomment and change if needed
# CATALOG_SVC_PORT=8101
# RFQ_SVC_PORT=8102
# TICKET_SVC_PORT=8114

# External service URLs - use these if accessing services via localhost
# instead of Docker network names
KEYCLOAK_URL=http://localhost:8080
KAFKA_BOOTSTRAP_SERVERS=localhost:9093
REDIS_HOST=localhost
REDIS_PORT=6379
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# DATABASE SETTINGS
# -----------------------------------------------------------------------------
# Local database connection - use these if connecting directly from host
DB_HOST=localhost
DB_PORT=5432
# DB_PASSWORD=your-secure-password  # Override if you changed the default

# Connection string for direct host connections
DB_URL=postgres://postgres:postgres@localhost:5432/medplatform?sslmode=disable

# -----------------------------------------------------------------------------
# DEVELOPMENT PREFERENCES
# -----------------------------------------------------------------------------
# Hot reload settings
ENABLE_HOT_RELOAD=true
WATCH_DIRECTORIES=./internal,./pkg,./cmd

# IDE integration
ENABLE_DELVE_DEBUGGER=true
DELVE_PORT=2345

# Auto-migration on startup (set to false if you want manual control)
AUTO_MIGRATE_DB=true

# -----------------------------------------------------------------------------
# LOCAL API KEYS & SECRETS (DEVELOPMENT ONLY)
# -----------------------------------------------------------------------------
# WARNING: Never commit real secrets to version control!
# These are placeholder values for local development only

# WhatsApp API credentials (development sandbox)
WHATSAPP_API_TOKEN=your-sandbox-token-here
WHATSAPP_WEBHOOK_SECRET=your-webhook-secret-here

# AI service API keys (if using real services instead of mocks)
OPENAI_API_KEY=your-openai-key-here
# AZURE_OPENAI_KEY=your-azure-openai-key-here
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# -----------------------------------------------------------------------------
# PERFORMANCE & DEBUGGING
# -----------------------------------------------------------------------------
# Increase these values if you're testing performance
# DB_MAX_OPEN_CONNS=50
# DB_MAX_IDLE_CONNS=25

# Enable profiling endpoints (accessible at /debug/pprof/)
ENABLE_PROFILING=true

# Trace sampling rate (1.0 = capture all traces, 0.1 = 10% of traces)
TRACE_SAMPLE_RATE=1.0

# Detailed SQL logging
LOG_SQL_STATEMENTS=true
LOG_SQL_PARAMS=true

# -----------------------------------------------------------------------------
# LOCAL TESTING CONFIGURATIONS
# -----------------------------------------------------------------------------
# Test database (separate from dev database)
TEST_DB_URL=postgres://postgres:postgres@localhost:5432/medplatform_test?sslmode=disable

# Mock external services during tests
MOCK_THIRD_PARTY_APIS=true

# Test data generation
SEED_TEST_DATA_COUNT=100

# Test timeouts
TEST_HTTP_TIMEOUT=5s
TEST_DB_TIMEOUT=2s

# -----------------------------------------------------------------------------
# FEATURE FLAGS FOR LOCAL DEVELOPMENT
# -----------------------------------------------------------------------------
# Enable/disable specific features for testing
FEATURE_QR_CODE_ENABLED=true
FEATURE_WHATSAPP_INTEGRATION_ENABLED=true
FEATURE_AI_TRIAGE_ENABLED=true

# Experimental features you may want to test locally
FEATURE_VOICE_RECOGNITION_ENABLED=true  # Disabled by default
FEATURE_AR_DIAGNOSTICS_ENABLED=true     # Disabled by default
FEATURE_BLOCKCHAIN_TRACKING_ENABLED=true  # Disabled by default

# -----------------------------------------------------------------------------
# TENANT CONFIGURATION
# -----------------------------------------------------------------------------
# Set to false if you want to bypass tenant isolation during development
# TENANT_HEADER_REQUIRED=false

# Default tenant for development (matches the demo tenant in seed data)
DEFAULT_TENANT_ID=11111111-1111-1111-1111-111111111111
DEFAULT_TENANT_NAME=demo-hospital

# -----------------------------------------------------------------------------
# SECURITY RELAXATIONS (DEVELOPMENT ONLY)
# -----------------------------------------------------------------------------
# WARNING: These settings reduce security and should NEVER be used in production!

# Disable authentication for local API testing (default: false)
# DISABLE_AUTHENTICATION=true

# Disable CORS restrictions for local frontend development
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# Extend JWT expiration for easier development
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=72h

# -----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# -----------------------------------------------------------------------------
# Adjust log level for development (trace, debug, info, warn, error, fatal)
LOG_LEVEL=debug

# Log format (json, text)
LOG_FORMAT=text  # More readable for local development

# Include code location in logs
LOG_INCLUDE_CALLER=true
